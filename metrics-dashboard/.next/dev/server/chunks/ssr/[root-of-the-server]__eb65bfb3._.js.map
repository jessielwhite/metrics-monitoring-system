{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///Users/jessiewhite/Development/Tech_Screens/Tensorwave/sre-take-home-challenge-15dc00b/metrics-dashboard/app/api/api.ts"],"sourcesContent":["import { Metric, WorkloadStatus } from './types';\n\nconst API_URL = process.env.NEXT_PUBLIC_API_URL || '';\n\nexport async function getCurrentMetric(): Promise<Metric> {\n    const response = await fetch(`${API_URL}/api/metrics?range=1h&limit=1`);\n\n    if (!response.ok) {\n        throw new Error('Failed to fetch current metric');\n    }\n\n    const metrics = await response.json();\n    if (metrics.length === 0) {\n        throw new Error('No metrics found');\n    }\n\n    return metrics[0];\n}\n\nexport async function getMetricsHistory(timeRange: '1h' | '24h' | '7d', agentId?: string, type?: string): Promise<Metric[]> {\n    let url = `${API_URL}/api/metrics?range=${timeRange}`;\n    if (agentId) url += `&agent_id=${agentId}`;\n    if (type) url += `&type=${type}`;\n\n    const response = await fetch(url);\n\n    if (!response.ok) {\n        throw new Error('Failed to fetch metrics history');\n    }\n\n    return response.json();\n}\n\nexport async function getWorkloadStatus(): Promise<WorkloadStatus> {\n    let response;\n\n        response = await fetch(`${API_URL}/api/workload/status`);\n\n        if (!response.ok) {\n            throw new Error('Failed to fetch workload status');\n        }\n\n        return response.json();\n    }\n\nexport async function startWorkload(): Promise<WorkloadStatus> {\n    const response = await fetch(`${API_URL}/api/workload/start`, {\n        method: 'POST',\n    });\n\n    if (!response.ok) {\n        throw new Error('Failed to start workload');\n    }\n\n    return response.json();\n}\n\nexport async function stopWorkload(): Promise<WorkloadStatus> {\n    const response = await fetch(`${API_URL}/api/workload/stop`, {\n        method: 'POST',\n    });\n\n    if (!response.ok) {\n        throw new Error('Failed to stop workload');\n    }\n\n    return response.json();\n}"],"names":[],"mappings":";;;;;;;;;;;;AAEA,MAAM,UAAU,QAAQ,GAAG,CAAC,mBAAmB,IAAI;AAE5C,eAAe;IAClB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,6BAA6B,CAAC;IAEtE,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,MAAM,UAAU,MAAM,SAAS,IAAI;IACnC,IAAI,QAAQ,MAAM,KAAK,GAAG;QACtB,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,OAAO,CAAC,EAAE;AACrB;AAEO,eAAe,kBAAkB,SAA8B,EAAE,OAAgB,EAAE,IAAa;IACnG,IAAI,MAAM,GAAG,QAAQ,mBAAmB,EAAE,WAAW;IACrD,IAAI,SAAS,OAAO,CAAC,UAAU,EAAE,SAAS;IAC1C,IAAI,MAAM,OAAO,CAAC,MAAM,EAAE,MAAM;IAEhC,MAAM,WAAW,MAAM,MAAM;IAE7B,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,SAAS,IAAI;AACxB;AAEO,eAAe;IAClB,IAAI;IAEA,WAAW,MAAM,MAAM,GAAG,QAAQ,oBAAoB,CAAC;IAEvD,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,SAAS,IAAI;AACxB;AAEG,eAAe;IAClB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,mBAAmB,CAAC,EAAE;QAC1D,QAAQ;IACZ;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,SAAS,IAAI;AACxB;AAEO,eAAe;IAClB,MAAM,WAAW,MAAM,MAAM,GAAG,QAAQ,kBAAkB,CAAC,EAAE;QACzD,QAAQ;IACZ;IAEA,IAAI,CAAC,SAAS,EAAE,EAAE;QACd,MAAM,IAAI,MAAM;IACpB;IAEA,OAAO,SAAS,IAAI;AACxB"}},
    {"offset": {"line": 74, "column": 0}, "map": {"version":3,"sources":["file:///Users/jessiewhite/Development/Tech_Screens/Tensorwave/sre-take-home-challenge-15dc00b/metrics-dashboard/components/Client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/metrics-dashboard/components/Client.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/metrics-dashboard/components/Client.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,gSAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA2S,GACxU,yEACA","ignoreList":[0]}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file:///Users/jessiewhite/Development/Tech_Screens/Tensorwave/sre-take-home-challenge-15dc00b/metrics-dashboard/components/Client.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/metrics-dashboard/components/Client.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/metrics-dashboard/components/Client.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,gSAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAAuR,GACpT,qDACA","ignoreList":[0]}},
    {"offset": {"line": 102, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 110, "column": 0}, "map": {"version":3,"sources":["file:///Users/jessiewhite/Development/Tech_Screens/Tensorwave/sre-take-home-challenge-15dc00b/metrics-dashboard/app/page.tsx"],"sourcesContent":["import Image from 'next/image';\nimport TWLogo from '../public/tensorwave-logo.png';\nimport { getCurrentMetric, getWorkloadStatus } from './api/api';\nimport {\n    Tabs,\n    TabsContent,\n    TabsContents,\n    TabsList,\n    TabsTrigger,\n} from '../components/animate-ui/components/radix/tabs';\n\nimport Client from '../components/Client';\nimport { Metric } from '../app/api/types';\n\nexport default async function Dashboard() {\n    const initialMetric = await getCurrentMetric();\n    const initialWorkloadStatus = await getWorkloadStatus();\n\n    return (\n        <div className='dark flex min-h-screen flex-col bg-black px-18 py-14 text-white'>\n            <div className='flex w-full flex-col gap-4 md:flex-row md:items-center md:justify-between md:gap-0'>\n                <div className='text-4xl font-bold'>Metrics Dashboard</div>\n                <Image\n                    src={TWLogo}\n                    alt='TensorWave Logo'\n                    width={60}\n                    height={60}\n                    className='rounded-full border p-3'\n                />\n            </div>\n            <Client initialWorkloadStatus={initialWorkloadStatus} initialMetric={initialMetric} />\n        </div>\n    );\n}\n\n// import { useState, useEffect } from 'react';\n// import { getCurrentMetric, getMetricsHistory } from './api/api';\n// import type { Metric } from './api/types';\n// import { getMetricsCollection } from './api/db';\n\n// export default function Home() {\n//   const [input, setInput] = useState('');\n//   const [metrics, setMetrics] = useState<Metric[]>([]);\n//   const [response, setResponse] = useState<string | null>(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState<string | null>(null);\n\n//     const handleSubmit = async (e: React.FormEvent) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n//     setResponse(null);\n\n//     try {\n//       const res = await getCurrentMetric();\n//       if (res) {\n//         setMetrics([res]);\n//       } else {\n//         setError('Invalid metric data received');\n//       }\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const submitMetrics = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await fetch('/api/metrics', {\n//         method: 'POST',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ metrics }),\n//       });\n//       const data = await res.json();\n\n//       if (!res.ok) {\n//         throw new Error(data.error || 'Failed to submit metrics');\n//       }\n\n//       setMetrics([]);\n//       setError(null);\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n\n//   const fetchMetrics = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await fetch('/api/metrics');\n//       const data = await res.json();\n\n//       if (!res.ok) {\n//         throw new Error(data.error || 'Failed to fetch metrics');\n//       }\n\n//       setMetrics(data.metrics);\n//       setError(null);\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     getCurrentMetric().then((res) => {\n//       if (res) {\n//         setMetrics([res]);\n//       }\n//       setLoading(false);\n//     }).catch((err) => {\n//       setError(err.message);\n//       setLoading(false);\n//     });\n//     }, []);\n\n//   return (\n//     <div style={{\n//       maxWidth: '1200px',\n//       margin: '50px auto',\n//       padding: '20px',\n//       fontFamily: 'system-ui, sans-serif'\n//     }}>\n//       <h1>Metrics Monitoring Dashboard</h1>\n//       <p>Real-time metrics from the Metrics Agent</p>\n//       <form onSubmit={handleSubmit} style={{ marginTop: '30px' }}>\n//         <div style={{ marginBottom: '15px' }}>\n//           <label htmlFor=\"input\" style={{ display: 'block', marginBottom: '5px' }}>\n//             Test Input:\n//           </label>\n//           <input\n//             id=\"input\"\n//             type=\"text\"\n//             value={input}\n//             onChange={(e) => setInput(e.target.value)}\n//             style={{\n//               width: '100%',\n//               padding: '10px',\n//               fontSize: '16px',\n//               border: '1px solid #ccc',\n//               borderRadius: '4px',\n//             }}\n//             disabled={loading}\n//           />\n//         </div>\n//       </form>\n//       {error && (\n//         <div style={{\n//           marginTop: '20px',\n//           padding: '15px',\n//           backgroundColor: '#fee',\n//           border: '1px solid #fcc',\n//           borderRadius: '4px',\n//           color: '#c00',\n//         }}>\n//           <strong>Error:</strong> {error}\n//         </div>\n//       )}\n\n//       {response && (\n//         <div style={{\n//           marginTop: '20px',\n//           padding: '15px',\n//           backgroundColor: '#efe',\n//           border: '1px solid #cfc',\n//           borderRadius: '4px',\n//         }}>\n//           <strong>Response from Rust server:</strong>\n//           <div style={{ marginTop: '10px', fontSize: '18px' }}>{response}</div>\n//         </div>\n//       )}\n//       <div style={{ marginTop: '30px' }}>\n//         <button\n//           onClick={submitMetrics}\n//           disabled={loading}\n//           style={{\n//             padding: '10px 20px',\n//             fontSize: '16px',\n//             backgroundColor: loading ? '#ccc' : '#28a745',\n//             color: 'white',\n//             border: 'none',\n//             borderRadius: '4px',\n//             cursor: loading ? 'not-allowed' : 'pointer',\n//             marginRight: '10px',\n//           }}\n//         >\n//           {loading ? 'Loading...' : 'Submit Metrics'}\n//         </button>\n//         <button\n//           onClick={fetchMetrics}\n//           disabled={loading}\n//           style={{\n//             padding: '10px 20px',\n//             fontSize: '16px',\n//             backgroundColor: loading ? '#ccc' : '#0070f3',\n//             color: 'white',\n//             border: 'none',\n//             borderRadius: '4px',\n//             cursor: loading ? 'not-allowed' : 'pointer',\n//           }}\n//         >\n//           {loading ? 'Loading...' : 'Refresh Metrics'}\n//         </button>\n//       </div>\n//       {metrics.length > 0 ? (\n//         <table style={{\n//           width: '100%',\n//           borderCollapse: 'collapse',\n//           border: '1px solid #ddd',\n//           marginTop: '20px',\n//         }}>\n//           <thead>\n//             <tr style={{ backgroundColor: '#f5f5f5' }}>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Agent ID</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Metric Name</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Value</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Unit</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Timestamp</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {metrics.map((metric, index) => (\n//               <tr key={index}>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.agent_id}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.name}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.value.toFixed(2)}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.unit}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd', whiteSpace: 'nowrap' }}>\n//                   {new Date(parseInt(metric.timestamp)).toLocaleString()}\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       ) : (\n//         !loading && <p>No metrics available.</p>\n//       )}\n//       <div style={{ marginTop: '40px', padding: '15px', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\n//         <h3>How it works:</h3>\n//         <ol>\n//           <li>The Metrics Agent collects system metrics (CPU, memory, disk, network latency)</li>\n//           <li>Metrics are sent to the Rust gRPC server every 10 seconds</li>\n//           <li>This dashboard fetches and displays the latest metrics from the server</li>\n//           <li>Metrics auto-refresh every 5 seconds</li>\n//         </ol>\n//         </div>\n//       </div>\n//     );\n//   }\n"],"names":[],"mappings":";;;;;AAAA;;;;;;AAEA;AASA;;;;;;AAGe,eAAe;IAC1B,MAAM,gBAAgB,MAAM,IAAA,6JAAgB;IAC5C,MAAM,wBAAwB,MAAM,IAAA,8JAAiB;IAErD,qBACI,sQAAC;QAAI,WAAU;;0BACX,sQAAC;gBAAI,WAAU;;kCACX,sQAAC;wBAAI,WAAU;kCAAqB;;;;;;kCACpC,sQAAC,gKAAK;wBACF,KAAK;wBACL,KAAI;wBACJ,OAAO;wBACP,QAAQ;wBACR,WAAU;;;;;;;;;;;;0BAGlB,sQAAC,wJAAM;gBAAC,uBAAuB;gBAAuB,eAAe;;;;;;;;;;;;AAGjF,EAEA,+CAA+C;CAC/C,mEAAmE;CACnE,6CAA6C;CAC7C,mDAAmD;CAEnD,mCAAmC;CACnC,4CAA4C;CAC5C,0DAA0D;CAC1D,mEAAmE;CACnE,kDAAkD;CAClD,6DAA6D;CAE7D,2DAA2D;CAC3D,0BAA0B;CAC1B,wBAAwB;CACxB,sBAAsB;CACtB,yBAAyB;CAEzB,YAAY;CACZ,8CAA8C;CAC9C,mBAAmB;CACnB,6BAA6B;CAC7B,iBAAiB;CACjB,oDAAoD;CACpD,UAAU;CACV,2BAA2B;CAC3B,+BAA+B;CAC/B,kBAAkB;CAClB,2BAA2B;CAC3B,QAAQ;CACR,OAAO;CAEP,wCAAwC;CACxC,YAAY;CACZ,0BAA0B;CAC1B,kDAAkD;CAClD,0BAA0B;CAC1B,qBAAqB;CACrB,gDAAgD;CAChD,aAAa;CACb,6CAA6C;CAC7C,YAAY;CACZ,uCAAuC;CAEvC,uBAAuB;CACvB,qEAAqE;CACrE,UAAU;CAEV,wBAAwB;CACxB,wBAAwB;CACxB,2BAA2B;CAC3B,+BAA+B;CAC/B,kBAAkB;CAClB,2BAA2B;CAC3B,QAAQ;CACR,OAAO;CAGP,uCAAuC;CACvC,YAAY;CACZ,0BAA0B;CAC1B,iDAAiD;CACjD,uCAAuC;CAEvC,uBAAuB;CACvB,oEAAoE;CACpE,UAAU;CAEV,kCAAkC;CAClC,wBAAwB;CACxB,2BAA2B;CAC3B,+BAA+B;CAC/B,kBAAkB;CAClB,2BAA2B;CAC3B,QAAQ;CACR,OAAO;CAEP,sBAAsB;CACtB,yCAAyC;CACzC,mBAAmB;CACnB,6BAA6B;CAC7B,UAAU;CACV,2BAA2B;CAC3B,0BAA0B;CAC1B,+BAA+B;CAC/B,2BAA2B;CAC3B,UAAU;CACV,cAAc;CAEd,aAAa;CACb,oBAAoB;CACpB,4BAA4B;CAC5B,6BAA6B;CAC7B,yBAAyB;CACzB,4CAA4C;CAC5C,UAAU;CACV,8CAA8C;CAC9C,wDAAwD;CACxD,qEAAqE;CACrE,iDAAiD;CACjD,sFAAsF;CACtF,0BAA0B;CAC1B,qBAAqB;CACrB,mBAAmB;CACnB,yBAAyB;CACzB,0BAA0B;CAC1B,4BAA4B;CAC5B,yDAAyD;CACzD,uBAAuB;CACvB,+BAA+B;CAC/B,iCAAiC;CACjC,kCAAkC;CAClC,0CAA0C;CAC1C,qCAAqC;CACrC,iBAAiB;CACjB,iCAAiC;CACjC,eAAe;CACf,iBAAiB;CACjB,gBAAgB;CAChB,oBAAoB;CACpB,wBAAwB;CACxB,+BAA+B;CAC/B,6BAA6B;CAC7B,qCAAqC;CACrC,sCAAsC;CACtC,iCAAiC;CACjC,2BAA2B;CAC3B,cAAc;CACd,4CAA4C;CAC5C,iBAAiB;CACjB,WAAW;CAEX,uBAAuB;CACvB,wBAAwB;CACxB,+BAA+B;CAC/B,6BAA6B;CAC7B,qCAAqC;CACrC,sCAAsC;CACtC,iCAAiC;CACjC,cAAc;CACd,wDAAwD;CACxD,kFAAkF;CAClF,iBAAiB;CACjB,WAAW;CACX,4CAA4C;CAC5C,kBAAkB;CAClB,oCAAoC;CACpC,+BAA+B;CAC/B,qBAAqB;CACrB,oCAAoC;CACpC,gCAAgC;CAChC,6DAA6D;CAC7D,8BAA8B;CAC9B,8BAA8B;CAC9B,mCAAmC;CACnC,2DAA2D;CAC3D,mCAAmC;CACnC,eAAe;CACf,YAAY;CACZ,wDAAwD;CACxD,oBAAoB;CACpB,kBAAkB;CAClB,mCAAmC;CACnC,+BAA+B;CAC/B,qBAAqB;CACrB,oCAAoC;CACpC,gCAAgC;CAChC,6DAA6D;CAC7D,8BAA8B;CAC9B,8BAA8B;CAC9B,mCAAmC;CACnC,2DAA2D;CAC3D,eAAe;CACf,YAAY;CACZ,yDAAyD;CACzD,oBAAoB;CACpB,eAAe;CACf,gCAAgC;CAChC,0BAA0B;CAC1B,2BAA2B;CAC3B,wCAAwC;CACxC,sCAAsC;CACtC,+BAA+B;CAC/B,cAAc;CACd,oBAAoB;CACpB,0DAA0D;CAC1D,wFAAwF;CACxF,2FAA2F;CAC3F,qFAAqF;CACrF,oFAAoF;CACpF,yFAAyF;CACzF,oBAAoB;CACpB,qBAAqB;CACrB,oBAAoB;CACpB,gDAAgD;CAChD,iCAAiC;CACjC,mGAAmG;CACnG,+FAA+F;CAC/F,2GAA2G;CAC3G,+FAA+F;CAC/F,mGAAmG;CACnG,4EAA4E;CAC5E,wBAAwB;CACxB,sBAAsB;CACtB,kBAAkB;CAClB,qBAAqB;CACrB,mBAAmB;CACnB,cAAc;CACd,mDAAmD;CACnD,WAAW;CACX,8GAA8G;CAC9G,iCAAiC;CACjC,eAAe;CACf,oGAAoG;CACpG,+EAA+E;CAC/E,4FAA4F;CAC5F,0DAA0D;CAC1D,gBAAgB;CAChB,iBAAiB;CACjB,eAAe;CACf,SAAS;CACT,MAAM"}}]
}