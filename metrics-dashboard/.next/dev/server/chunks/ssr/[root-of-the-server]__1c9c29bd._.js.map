{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 3, "column": 0}, "map": {"version":3,"sources":["file:///Users/jessiewhite/Development/Tech_Screens/Tensorwave/sre-take-home-challenge-15dc00b/metrics-dashboard/pages/index.tsx"],"sourcesContent":["// import { useState, useEffect } from 'react';\n// import { getCurrentMetric, getMetricsHistory } from './api/api';\n// import type { Metric } from './api/types';\n// import { getMetricsCollection } from './api/db';\n\n// export default function Home() {\n//   const [input, setInput] = useState('');\n//   const [metrics, setMetrics] = useState<Metric[]>([]);\n//   const [response, setResponse] = useState<string | null>(null);\n//   const [loading, setLoading] = useState(true);\n//   const [error, setError] = useState<string | null>(null);\n\n//     const handleSubmit = async (e: React.FormEvent) => {\n//     e.preventDefault();\n//     setLoading(true);\n//     setError(null);\n//     setResponse(null);\n\n//     try {\n//       const res = await getCurrentMetric();\n//       if (res) {\n//         setMetrics([res]);\n//       } else {\n//         setError('Invalid metric data received');\n//       }\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   const submitMetrics = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await fetch('/api/metrics', {\n//         method: 'POST',\n//         headers: {\n//           'Content-Type': 'application/json',\n//         },\n//         body: JSON.stringify({ metrics }),\n//       });\n//       const data = await res.json();\n\n//       if (!res.ok) {\n//         throw new Error(data.error || 'Failed to submit metrics');\n//       }\n\n//       setMetrics([]);\n//       setError(null);\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n\n//   const fetchMetrics = async () => {\n//     try {\n//       setLoading(true);\n//       const res = await fetch('/api/metrics');\n//       const data = await res.json();\n\n//       if (!res.ok) {\n//         throw new Error(data.error || 'Failed to fetch metrics');\n//       }\n\n//       setMetrics(data.metrics);\n//       setError(null);\n//     } catch (err: any) {\n//       setError(err.message);\n//     } finally {\n//       setLoading(false);\n//     }\n//   };\n\n//   useEffect(() => {\n//     getCurrentMetric().then((res) => {\n//       if (res) {\n//         setMetrics([res]);\n//       }\n//       setLoading(false);\n//     }).catch((err) => {\n//       setError(err.message);\n//       setLoading(false);\n//     });\n//     }, []);\n\n//   return (\n//     <div style={{\n//       maxWidth: '1200px',\n//       margin: '50px auto',\n//       padding: '20px',\n//       fontFamily: 'system-ui, sans-serif'\n//     }}>\n//       <h1>Metrics Monitoring Dashboard</h1>\n//       <p>Real-time metrics from the Metrics Agent</p>\n//       <form onSubmit={handleSubmit} style={{ marginTop: '30px' }}>\n//         <div style={{ marginBottom: '15px' }}>\n//           <label htmlFor=\"input\" style={{ display: 'block', marginBottom: '5px' }}>\n//             Test Input:\n//           </label>\n//           <input\n//             id=\"input\"\n//             type=\"text\"\n//             value={input}\n//             onChange={(e) => setInput(e.target.value)}\n//             style={{\n//               width: '100%',\n//               padding: '10px',\n//               fontSize: '16px',\n//               border: '1px solid #ccc',\n//               borderRadius: '4px',\n//             }}\n//             disabled={loading}\n//           />\n//         </div>\n//       </form>\n//       {error && (\n//         <div style={{\n//           marginTop: '20px',\n//           padding: '15px',\n//           backgroundColor: '#fee',\n//           border: '1px solid #fcc',\n//           borderRadius: '4px',\n//           color: '#c00',\n//         }}>\n//           <strong>Error:</strong> {error}\n//         </div>\n//       )}\n\n//       {response && (\n//         <div style={{\n//           marginTop: '20px',\n//           padding: '15px',\n//           backgroundColor: '#efe',\n//           border: '1px solid #cfc',\n//           borderRadius: '4px',\n//         }}>\n//           <strong>Response from Rust server:</strong>\n//           <div style={{ marginTop: '10px', fontSize: '18px' }}>{response}</div>\n//         </div>\n//       )}\n//       <div style={{ marginTop: '30px' }}>\n//         <button\n//           onClick={submitMetrics}\n//           disabled={loading}\n//           style={{\n//             padding: '10px 20px',\n//             fontSize: '16px',\n//             backgroundColor: loading ? '#ccc' : '#28a745',\n//             color: 'white',\n//             border: 'none',\n//             borderRadius: '4px',\n//             cursor: loading ? 'not-allowed' : 'pointer',\n//             marginRight: '10px',\n//           }}\n//         >\n//           {loading ? 'Loading...' : 'Submit Metrics'}\n//         </button>\n//         <button\n//           onClick={fetchMetrics}\n//           disabled={loading}\n//           style={{\n//             padding: '10px 20px',\n//             fontSize: '16px',\n//             backgroundColor: loading ? '#ccc' : '#0070f3',\n//             color: 'white',\n//             border: 'none',\n//             borderRadius: '4px',\n//             cursor: loading ? 'not-allowed' : 'pointer',\n//           }}\n//         >\n//           {loading ? 'Loading...' : 'Refresh Metrics'}\n//         </button>\n//       </div>\n//       {metrics.length > 0 ? (\n//         <table style={{\n//           width: '100%',\n//           borderCollapse: 'collapse',\n//           border: '1px solid #ddd',\n//           marginTop: '20px',\n//         }}>\n//           <thead>\n//             <tr style={{ backgroundColor: '#f5f5f5' }}>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Agent ID</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Metric Name</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Value</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Unit</th>\n//               <th style={{ padding: '10px', border: '1px solid #ddd' }}>Timestamp</th>\n//             </tr>\n//           </thead>\n//           <tbody>\n//             {metrics.map((metric, index) => (\n//               <tr key={index}>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.agent_id}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.name}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.value.toFixed(2)}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd' }}>{metric.unit}</td>\n//                 <td style={{ padding: '10px', border: '1px solid #ddd', whiteSpace: 'nowrap' }}>\n//                   {new Date(parseInt(metric.timestamp)).toLocaleString()}\n//                 </td>\n//               </tr>\n//             ))}\n//           </tbody>\n//         </table>\n//       ) : (\n//         !loading && <p>No metrics available.</p>\n//       )}\n//       <div style={{ marginTop: '40px', padding: '15px', backgroundColor: '#f5f5f5', borderRadius: '4px' }}>\n//         <h3>How it works:</h3>\n//         <ol>\n//           <li>The Metrics Agent collects system metrics (CPU, memory, disk, network latency)</li>\n//           <li>Metrics are sent to the Rust gRPC server every 10 seconds</li>\n//           <li>This dashboard fetches and displays the latest metrics from the server</li>\n//           <li>Metrics auto-refresh every 5 seconds</li>\n//         </ol>\n//         </div>\n//       </div>\n//     );\n//   }\n"],"names":[],"mappings":"AAAA,+CAA+C;AAC/C,mEAAmE;AACnE,6CAA6C;AAC7C,mDAAmD;AAEnD,mCAAmC;AACnC,4CAA4C;AAC5C,0DAA0D;AAC1D,mEAAmE;AACnE,kDAAkD;AAClD,6DAA6D;AAE7D,2DAA2D;AAC3D,0BAA0B;AAC1B,wBAAwB;AACxB,sBAAsB;AACtB,yBAAyB;AAEzB,YAAY;AACZ,8CAA8C;AAC9C,mBAAmB;AACnB,6BAA6B;AAC7B,iBAAiB;AACjB,oDAAoD;AACpD,UAAU;AACV,2BAA2B;AAC3B,+BAA+B;AAC/B,kBAAkB;AAClB,2BAA2B;AAC3B,QAAQ;AACR,OAAO;AAEP,wCAAwC;AACxC,YAAY;AACZ,0BAA0B;AAC1B,kDAAkD;AAClD,0BAA0B;AAC1B,qBAAqB;AACrB,gDAAgD;AAChD,aAAa;AACb,6CAA6C;AAC7C,YAAY;AACZ,uCAAuC;AAEvC,uBAAuB;AACvB,qEAAqE;AACrE,UAAU;AAEV,wBAAwB;AACxB,wBAAwB;AACxB,2BAA2B;AAC3B,+BAA+B;AAC/B,kBAAkB;AAClB,2BAA2B;AAC3B,QAAQ;AACR,OAAO;AAGP,uCAAuC;AACvC,YAAY;AACZ,0BAA0B;AAC1B,iDAAiD;AACjD,uCAAuC;AAEvC,uBAAuB;AACvB,oEAAoE;AACpE,UAAU;AAEV,kCAAkC;AAClC,wBAAwB;AACxB,2BAA2B;AAC3B,+BAA+B;AAC/B,kBAAkB;AAClB,2BAA2B;AAC3B,QAAQ;AACR,OAAO;AAEP,sBAAsB;AACtB,yCAAyC;AACzC,mBAAmB;AACnB,6BAA6B;AAC7B,UAAU;AACV,2BAA2B;AAC3B,0BAA0B;AAC1B,+BAA+B;AAC/B,2BAA2B;AAC3B,UAAU;AACV,cAAc;AAEd,aAAa;AACb,oBAAoB;AACpB,4BAA4B;AAC5B,6BAA6B;AAC7B,yBAAyB;AACzB,4CAA4C;AAC5C,UAAU;AACV,8CAA8C;AAC9C,wDAAwD;AACxD,qEAAqE;AACrE,iDAAiD;AACjD,sFAAsF;AACtF,0BAA0B;AAC1B,qBAAqB;AACrB,mBAAmB;AACnB,yBAAyB;AACzB,0BAA0B;AAC1B,4BAA4B;AAC5B,yDAAyD;AACzD,uBAAuB;AACvB,+BAA+B;AAC/B,iCAAiC;AACjC,kCAAkC;AAClC,0CAA0C;AAC1C,qCAAqC;AACrC,iBAAiB;AACjB,iCAAiC;AACjC,eAAe;AACf,iBAAiB;AACjB,gBAAgB;AAChB,oBAAoB;AACpB,wBAAwB;AACxB,+BAA+B;AAC/B,6BAA6B;AAC7B,qCAAqC;AACrC,sCAAsC;AACtC,iCAAiC;AACjC,2BAA2B;AAC3B,cAAc;AACd,4CAA4C;AAC5C,iBAAiB;AACjB,WAAW;AAEX,uBAAuB;AACvB,wBAAwB;AACxB,+BAA+B;AAC/B,6BAA6B;AAC7B,qCAAqC;AACrC,sCAAsC;AACtC,iCAAiC;AACjC,cAAc;AACd,wDAAwD;AACxD,kFAAkF;AAClF,iBAAiB;AACjB,WAAW;AACX,4CAA4C;AAC5C,kBAAkB;AAClB,oCAAoC;AACpC,+BAA+B;AAC/B,qBAAqB;AACrB,oCAAoC;AACpC,gCAAgC;AAChC,6DAA6D;AAC7D,8BAA8B;AAC9B,8BAA8B;AAC9B,mCAAmC;AACnC,2DAA2D;AAC3D,mCAAmC;AACnC,eAAe;AACf,YAAY;AACZ,wDAAwD;AACxD,oBAAoB;AACpB,kBAAkB;AAClB,mCAAmC;AACnC,+BAA+B;AAC/B,qBAAqB;AACrB,oCAAoC;AACpC,gCAAgC;AAChC,6DAA6D;AAC7D,8BAA8B;AAC9B,8BAA8B;AAC9B,mCAAmC;AACnC,2DAA2D;AAC3D,eAAe;AACf,YAAY;AACZ,yDAAyD;AACzD,oBAAoB;AACpB,eAAe;AACf,gCAAgC;AAChC,0BAA0B;AAC1B,2BAA2B;AAC3B,wCAAwC;AACxC,sCAAsC;AACtC,+BAA+B;AAC/B,cAAc;AACd,oBAAoB;AACpB,0DAA0D;AAC1D,wFAAwF;AACxF,2FAA2F;AAC3F,qFAAqF;AACrF,oFAAoF;AACpF,yFAAyF;AACzF,oBAAoB;AACpB,qBAAqB;AACrB,oBAAoB;AACpB,gDAAgD;AAChD,iCAAiC;AACjC,mGAAmG;AACnG,+FAA+F;AAC/F,2GAA2G;AAC3G,+FAA+F;AAC/F,mGAAmG;AACnG,4EAA4E;AAC5E,wBAAwB;AACxB,sBAAsB;AACtB,kBAAkB;AAClB,qBAAqB;AACrB,mBAAmB;AACnB,cAAc;AACd,mDAAmD;AACnD,WAAW;AACX,8GAA8G;AAC9G,iCAAiC;AACjC,eAAe;AACf,oGAAoG;AACpG,+EAA+E;AAC/E,4FAA4F;AAC5F,0DAA0D;AAC1D,gBAAgB;AAChB,iBAAiB;AACjB,eAAe;AACf,SAAS;AACT,MAAM"}}]
}